(self.webpackChunk=self.webpackChunk||[]).push([[47],{4101:(t,e,r)=>{"use strict";function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,{Z:()=>i});const i={data:function(){return{waitFor:""}},computed:n(n({},(0,r(629).Se)(["isInLoading"])),{},{isLoading:function(){return this.isInLoading(this.waitFor)}}),methods:{startLoading:function(){this.$store.dispatch("startLoadingBy",this.waitFor)},stopLoading:function(){this.$store.dispatch("stopLoadingBy",this.waitFor)}}}},4935:(t,e,r)=>{"use strict";r.d(e,{Z:()=>f});var o=r(629),n=r(8593),s=r(9780);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var o,n,s=[],i=!0,a=!1;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(s.push(o.value),!e||s.length!==e);i=!0);}catch(t){a=!0,n=t}finally{try{i||null==r.return||r.return()}finally{if(a)throw n}}return s}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const f={data:function(){var t=this;return{rules:{required:function(e){return!!e||0===e||t.$t("rules.required")},email:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||t.$t("rules.email")},confirmed:function(e){return function(r){return e==r||t.$t("rules.confirmed")}},gte:function(e){return function(r){return r&&r.length>=e||t.$t("rules.gte",{length:e})}}}}},computed:l({},(0,o.rn)(["errors"])),methods:l(l({},(0,o.nv)(["setErrors","unsetError"])),{},{syncErrors:function(t){var e=this;if(void 0!==t)if(void 0!==t.response&&t.hasOwnProperty("response"))if(400===t.response.status||401===t.response.status)s.Z.commit("LOGGED_OUT"),n.Z.push({name:"Login"});else if(403===t.response.status)n.Z.push({name:"Forbidden"});else if(404===t.response.status)n.Z.push({name:"NotFound"});else if(419===t.response.status)n.Z.push({name:"ExpiredSession"});else if(t.response.hasOwnProperty("data")&&t.response.data.hasOwnProperty("errors")){this.setErrors(t.response.data.errors);for(var r=0,o=Object.entries(this.errors);r<o.length;r++){var i=o[r];void 0!==this.$refs[i]&&(this.$refs[i].valid=!1)}setTimeout((function(){e.focusFirstErrorInput()}),500)}else n.Z.push({name:"NotFound"});else console.log(t)},clearErrors:function(){this.setErrors({})},clearError:function(t){this.hasErrors(t)&&(this.unsetError(t),this.$refs[t].valid=!0)},focusFirstErrorInput:function(){for(var t=0,e=Object.entries(this.form);t<e.length;t++){var r=i(e[t],2),o=r[0];r[1];if(void 0!==this.$refs[o]&&!this.$refs[o].valid){this.$refs[o].focus();break}}},hasErrors:function(t){return this.errors.hasOwnProperty(t)},getError:function(t){return this.hasErrors(t)?this.errors[t][0]:null},getErrors:function(t){return this.hasErrors(t)?this.errors[t]:null}})}},8552:(t,e,r)=>{var o=r(852)(r(5639),"DataView");t.exports=o},7071:(t,e,r)=>{var o=r(852)(r(5639),"Map");t.exports=o},3818:(t,e,r)=>{var o=r(852)(r(5639),"Promise");t.exports=o},8525:(t,e,r)=>{var o=r(852)(r(5639),"Set");t.exports=o},2705:(t,e,r)=>{var o=r(5639).Symbol;t.exports=o},577:(t,e,r)=>{var o=r(852)(r(5639),"WeakMap");t.exports=o},4239:(t,e,r)=>{var o=r(2705),n=r(9607),s=r(2333),i=o?o.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":i&&i in Object(t)?n(t):s(t)}},9454:(t,e,r)=>{var o=r(4239),n=r(7005);t.exports=function(t){return n(t)&&"[object Arguments]"==o(t)}},8458:(t,e,r)=>{var o=r(3560),n=r(5346),s=r(3218),i=r(346),a=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,f=l.hasOwnProperty,p=RegExp("^"+u.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!s(t)||n(t))&&(o(t)?p:a).test(i(t))}},8749:(t,e,r)=>{var o=r(4239),n=r(1780),s=r(7005),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,t.exports=function(t){return s(t)&&n(t.length)&&!!i[o(t)]}},280:(t,e,r)=>{var o=r(5726),n=r(6916),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(!o(t))return n(t);var e=[];for(var r in Object(t))s.call(t,r)&&"constructor"!=r&&e.push(r);return e}},7518:t=>{t.exports=function(t){return function(e){return t(e)}}},4429:(t,e,r)=>{var o=r(5639)["__core-js_shared__"];t.exports=o},1957:(t,e,r)=>{var o="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=o},852:(t,e,r)=>{var o=r(8458),n=r(7801);t.exports=function(t,e){var r=n(t,e);return o(r)?r:void 0}},9607:(t,e,r)=>{var o=r(2705),n=Object.prototype,s=n.hasOwnProperty,i=n.toString,a=o?o.toStringTag:void 0;t.exports=function(t){var e=s.call(t,a),r=t[a];try{t[a]=void 0;var o=!0}catch(t){}var n=i.call(t);return o&&(e?t[a]=r:delete t[a]),n}},4160:(t,e,r)=>{var o=r(8552),n=r(7071),s=r(3818),i=r(8525),a=r(577),c=r(4239),l=r(346),u="[object Map]",f="[object Promise]",p="[object Set]",d="[object WeakMap]",b="[object DataView]",v=l(o),y=l(n),m=l(s),h=l(i),g=l(a),j=c;(o&&j(new o(new ArrayBuffer(1)))!=b||n&&j(new n)!=u||s&&j(s.resolve())!=f||i&&j(new i)!=p||a&&j(new a)!=d)&&(j=function(t){var e=c(t),r="[object Object]"==e?t.constructor:void 0,o=r?l(r):"";if(o)switch(o){case v:return b;case y:return u;case m:return f;case h:return p;case g:return d}return e}),t.exports=j},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},5346:(t,e,r)=>{var o,n=r(4429),s=(o=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";t.exports=function(t){return!!s&&s in t}},5726:t=>{var e=Object.prototype;t.exports=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}},6916:(t,e,r)=>{var o=r(5569)(Object.keys,Object);t.exports=o},1167:(t,e,r)=>{t=r.nmd(t);var o=r(1957),n=e&&!e.nodeType&&e,s=n&&t&&!t.nodeType&&t,i=s&&s.exports===n&&o.process,a=function(){try{var t=s&&s.require&&s.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=a},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:t=>{t.exports=function(t,e){return function(r){return t(e(r))}}},5639:(t,e,r)=>{var o=r(1957),n="object"==typeof self&&self&&self.Object===Object&&self,s=o||n||Function("return this")();t.exports=s},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},5694:(t,e,r)=>{var o=r(9454),n=r(7005),s=Object.prototype,i=s.hasOwnProperty,a=s.propertyIsEnumerable,c=o(function(){return arguments}())?o:function(t){return n(t)&&i.call(t,"callee")&&!a.call(t,"callee")};t.exports=c},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,r)=>{var o=r(3560),n=r(1780);t.exports=function(t){return null!=t&&n(t.length)&&!o(t)}},4144:(t,e,r)=>{t=r.nmd(t);var o=r(5639),n=r(5062),s=e&&!e.nodeType&&e,i=s&&t&&!t.nodeType&&t,a=i&&i.exports===s?o.Buffer:void 0,c=(a?a.isBuffer:void 0)||n;t.exports=c},8367:(t,e,r)=>{var o=r(280),n=r(4160),s=r(5694),i=r(1469),a=r(8612),c=r(4144),l=r(5726),u=r(6719),f=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(a(t)&&(i(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||u(t)||s(t)))return!t.length;var e=n(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(l(t))return!o(t).length;for(var r in t)if(f.call(t,r))return!1;return!0}},3560:(t,e,r)=>{var o=r(4239),n=r(3218);t.exports=function(t){if(!n(t))return!1;var e=o(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},6719:(t,e,r)=>{var o=r(8749),n=r(7518),s=r(1167),i=s&&s.isTypedArray,a=i?n(i):o;t.exports=a},5062:t=>{t.exports=function(){return!1}},5504:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const o={props:{dialog:{type:Boolean,required:!0},width:{type:[String,Number],required:!0}},data:function(){return{dialogWidth:"".concat(this.width,"px")}}};const n=(0,r(1900).Z)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{persistent:"","max-width":t.dialogWidth},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[t._t("default")],2)],1)}),[],!1,null,null,null).exports},2584:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});const o=(0,r(1900).Z)({},(function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-card-text",[t._t("default")],2)}),[],!1,null,null,null).exports},4697:(t,e,r)=>{"use strict";r.d(e,{Z:()=>n});const o={props:{isLoading:{type:Boolean,required:!0}}};const n=(0,r(1900).Z)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card-actions",{staticClass:"pb-6 pr-6"},[r("v-spacer"),t._v(" "),r("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],attrs:{indeterminate:""}}),t._v(" "),t._t("default")],2)}),[],!1,null,null,null).exports},2003:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});const o=(0,r(1900).Z)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card-title",[r("span",{staticClass:"title font-weight-light"},[t._t("default")],2)])}),[],!1,null,null,null).exports},9047:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>w});var o=r(629),n=r(7525),s=r(4935),i=r(4101),a=r(5504),c=r(2003),l=r(2584),u=r(4697);function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const b={name:"DeletePortfolioModal",mixins:[i.Z],components:{Modal:a.Z,ModalHeading:c.Z,ModalBody:l.Z,ModalFooter:u.Z},data:function(){return{waitFor:"destroy_portfolio",id:null}},computed:p({},(0,o.rn)(["showModal"])),mounted:function(){var t=this;document.addEventListener("keydown",(function(e){27==e.keyCode&&t.close()}))},methods:p(p({},(0,o.nv)(["destroyPortfolio","setShowModal"])),{},{open:function(t){this.id=t,this.setShowModal(!0)},close:function(){this.id=null,this.setShowModal(!1)},submit:function(){var t=this;this.startLoading(),this.destroyPortfolio(this.id).then((function(e){(0,n.IE)(t.$t("Portfolio has been successfully deleted.")),t.$router.push({name:"Home"})})).catch((function(t){(0,n.O1)(t)})).finally((function(){t.stopLoading(),t.close()}))}})};var v=r(1900);const y=(0,v.Z)(b,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("modal",{attrs:{width:460,dialog:t.showModal}},[r("modal-heading",[t._v("\n    "+t._s(t.$t("Delete Portfolio"))+"\n  ")]),t._v(" "),r("modal-body",[r("div",{staticClass:"text-xs-center"},[t._v(t._s(t.$t("Are you sure you want to delete this portfolio?")))])]),t._v(" "),r("modal-footer",{attrs:{"is-loading":t.isLoading}},[r("v-btn",{staticClass:"btn-close",attrs:{disabled:t.isLoading},on:{click:t.close}},[t._v("\n      "+t._s(t.$t("Close"))+"\n    ")]),t._v(" "),r("v-btn",{staticClass:"btn-warning",attrs:{disabled:t.isLoading},on:{click:t.submit}},[t._v("\n      "+t._s(t.$t("Delete"))+"\n    ")])],1)],1)}),[],!1,null,null,null).exports;var m=r(4676);function h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?h(Object(r),!0).forEach((function(e){j(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function j(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const O={props:{portfolio:{type:Object,required:!0}},name:"EditPortfolio",mixins:[s.Z,i.Z],components:{FormErrors:m.Z,DeletePortfolioModal:y},data:function(){return{waitFor:"update_portfolio",form:{name:this.portfolio.name,currency:this.portfolio.currency,commission:this.portfolio.commission,filtered:this.portfolio.filtered},valid:!0}},computed:g({},(0,o.Se)(["portfoliosCount"])),methods:g(g({},(0,o.nv)(["updatePortfolio"])),{},{submit:function(){var t=this;this.$refs.form.validate()?(this.startLoading(),this.updatePortfolio({id:this.$route.params.id,form:this.form}).then((function(e){t.clearErrors(),(0,n.IE)(t.$t("Your portfolio is successfully updated.")),t.$router.push({name:"Home"})})).catch((function(e){t.syncErrors(e)})).finally((function(){t.stopLoading()}))):this.focusFirstErrorInput()}})};const w=(0,v.Z)(O,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",{attrs:{align:"center",justify:"center"}},[r("delete-portfolio-modal",{ref:"deletePortfolioModal"}),t._v(" "),r("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"title font-weight-light"},[t._v(t._s(t.$t("Update Portfolio")))])]),t._v(" "),r("v-card-text",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit.apply(null,arguments)},keydown:function(e){return t.clearError(e.target.name)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("form-errors",{attrs:{errors:t.errors}}),t._v(" "),r("v-text-field",{ref:"name",attrs:{type:"text",name:"name",id:"name",filled:"",autofocus:"","prepend-inner-icon":"text_fields",disabled:t.isLoading,label:t.$t("Portfolio Name"),rules:[t.rules.required],"error-messages":t.getError("name")},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),r("v-select",{ref:"currency",attrs:{type:"select",name:"currency",id:"currency",filled:"","prepend-inner-icon":"money",disabled:t.isLoading,items:["TRY"],label:t.$t("Currency"),rules:[t.rules.required],"error-messages":t.getError("currency")},model:{value:t.form.currency,callback:function(e){t.$set(t.form,"currency",e)},expression:"form.currency"}}),t._v(" "),r("v-text-field",{ref:"commission",attrs:{type:"number",name:"commission",id:"commission",filled:"","prepend-inner-icon":"donut_large",step:"0.0001",disabled:t.isLoading,label:t.$t("Enter Commission Rate"),rules:[t.rules.required],"error-messages":t.getError("commission"),hint:t.$t("for_example",{example:t.$t("Garanti Bank: 0.188")})},model:{value:t.form.commission,callback:function(e){t.$set(t.form,"commission",e)},expression:"form.commission"}}),t._v(" "),r("v-checkbox",{attrs:{label:t.$t("Filter stocks that are no lot")},model:{value:t.form.filtered,callback:function(e){t.$set(t.form,"filtered",e)},expression:"form.filtered"}})],1)],1),t._v(" "),r("v-card-actions",{staticClass:"pb-4 px-4"},[this.portfoliosCount>1?r("v-btn",{staticClass:"btn-warning",on:{click:function(e){return t.$refs.deletePortfolioModal.open(t.$route.params.id)}}},[t._v("\n          "+t._s(t.$t("Delete"))+"\n        ")]):t._e(),t._v(" "),r("v-spacer"),t._v(" "),r("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],attrs:{indeterminate:""}}),t._v(" "),r("v-btn",{staticClass:"btn-close",attrs:{to:"/",disabled:t.isLoading}},[t._v("\n          "+t._s(t.$t("Close"))+"\n        ")]),t._v(" "),r("v-btn",{staticClass:"btn-action",attrs:{disabled:t.isLoading},on:{click:t.submit}},[t._v("\n          "+t._s(t.$t("Update"))+"\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports},4676:(t,e,r)=>{"use strict";r.d(e,{Z:()=>i});var o=r(8367),n=r.n(o);const s={props:{errors:{type:Object,required:!1}},name:"FormErrors",data:function(){return{any:null}},watch:{errors:function(t,e){this.any=!n()(t)}}};const i=(0,r(1900).Z)(s,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-alert",{attrs:{text:"",dismissible:"",type:"error",border:"left",value:t.any}},t._l(t.errors,(function(e){return r("dl",{key:e.id},t._l(e,(function(e){return r("dd",{key:e.id},[t._v(t._s(e))])})),0)})),0)}),[],!1,null,null,null).exports}}]);