(self.webpackChunk=self.webpackChunk||[]).push([[972],{7763:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===r(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{Z:()=>a});const a={computed:i(i({},(0,n(629).Se)(["isInLoading"])),{},{isLoading:function(){return this.isInLoading(this.waitFor)}}),methods:{startLoading:function(){this.$store.dispatch("startLoadingBy",this.waitFor)},stopLoading:function(){this.$store.dispatch("stopLoadingBy",this.waitFor)}}}},928:t=>{t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},4122:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});const r={name:"Modal",props:{dialog:{type:Boolean,default:!1,required:!0},width:{type:[String,Number],required:!0}},data:function(){return{dialogWidth:"".concat(this.width,"px")}},computed:{dialogState:function(){return this.dialog}}};const o=(0,n(1900).Z)(r,(function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{persistent:"","max-width":t.dialogWidth},model:{value:t.dialogState,callback:function(e){t.dialogState=e},expression:"dialogState"}},[e("v-card",[t._t("default")],2)],1)}),[],!1,null,null,null).exports},1633:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=(0,n(1900).Z)({},(function(){return(0,this._self._c)("v-card-text",[this._t("default")],2)}),[],!1,null,null,null).exports},6669:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});const r={name:"ModalFooter",props:{isLoading:{type:Boolean,required:!0}}};const o=(0,n(1900).Z)(r,(function(){var t=this,e=t._self._c;return e("v-card-actions",{staticClass:"pb-6 pr-6"},[e("v-spacer"),t._v(" "),e("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],attrs:{indeterminate:""}}),t._v(" "),t._t("default")],2)}),[],!1,null,null,null).exports},9034:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=(0,n(1900).Z)({},(function(){var t=this._self._c;return t("v-card-title",[t("span",{staticClass:"title font-weight-light"},[this._t("default")],2)])}),[],!1,null,null,null).exports},1972:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>P});var r=n(629),o=n(3192),i=n(249),s=n(928),a=n.n(s),l=n(7763),c=n(7494),u=n(2281),d=n(4122),f=n(9034),p=n(1633),v=n(6669);function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===m(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const b={name:"DeleteTransactionModal",components:{Modal:d.Z,ModalHeading:f.Z,ModalBody:p.Z,ModalFooter:v.Z},mixins:[l.Z],data:function(){return{waitFor:"destroy_transaction",id:null}},computed:_({},(0,r.rn)(["showModal"])),mounted:function(){var t=this;document.addEventListener("keydown",(function(e){27==e.keyCode&&t.close()}))},methods:_(_({},(0,r.nv)(["destroyTransaction","setShowModal"])),{},{open:function(t){this.id=t,this.setShowModal(!0)},close:function(){this.id=null,this.setShowModal(!1)},submit:function(){var t=this;this.startLoading(),this.destroyTransaction(this.id).then((function(t){(0,i.IE)(t)})).catch((function(t){(0,i.O1)(t)})).finally((function(){t.stopLoading(),t.close()}))}})};var g=n(1900);const O=(0,g.Z)(b,(function(){var t=this,e=t._self._c;return e("modal",{attrs:{width:"360",dialog:t.showModal}},[e("modal-heading",[t._v("\n    "+t._s(t.$t("Delete Transaction"))+"\n  ")]),t._v(" "),e("modal-body",[e("div",{staticClass:"text-xs-center"},[t._v("\n      "+t._s(t.$t("Are you sure you want to delete the last transaction?"))+"\n    ")])]),t._v(" "),e("modal-footer",{attrs:{"is-loading":t.isLoading}},[e("v-btn",{staticClass:"btn-close",attrs:{disabled:t.isLoading},on:{click:t.close}},[t._v("\n      "+t._s(t.$t("Close"))+"\n    ")]),t._v(" "),e("v-btn",{staticClass:"btn-warning",attrs:{disabled:t.isLoading},on:{click:t.submit}},[t._v("\n      "+t._s(t.$t("Delete"))+"\n    ")])],1)],1)}),[],!1,null,null,null).exports;function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){j(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function j(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==S(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===S(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const k={name:"Share",components:{TransactionItem:c.Z,ItemDetail:u.Z,DeleteTransactionModal:O},mixins:[l.Z],props:{initialShare:{type:Object,required:!0}},data:function(){return{waitFor:"fetch_share_transactions",share:this.initialShare,itemDetails:o.iQ}},computed:x(x({},(0,r.Se)(["getPortfolioById"])),{},{createTransactionParams:function(){return{shareId:this.share.id,code:this.share.symbol.code,commission:this.getPortfolioById(this.share.portfolio_id).commission}}}),methods:x(x({},(0,r.nv)(["destroyShare"])),{},{count:function(){return this.share.transactions.length},lastTransaction:function(){return a()(this.share.transactions)},getTextColor:function(t){return-1==t?"red lighten-1":1==t?"green lighten-1":""},deleteShare:function(){var t=this;this.destroyShare({id:this.share.id,portfolio_id:this.share.portfolio_id}).then((function(e){(0,i.IE)(t.$t("Share has been successfully deleted from your portfolio.")),t.$router.push({name:"Home"})})).catch((function(t){(0,i.O1)(t)}))}})};const P=(0,g.Z)(k,(function(){var t=this,e=t._self._c;return t.isLoading?t._e():e("v-row",{attrs:{align:"center",justify:"center"}},[e("delete-transaction-modal",{ref:"deleteTransactionModal"}),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"8",md:"4",lg:"10"}},[e("v-card",[e("v-toolbar",{staticClass:"pl-2",attrs:{flat:""}},[e("v-btn",{attrs:{icon:"",to:"/",exact:""}},[e("v-icon",{attrs:{color:"grey darken-2"}},[t._v("\n            arrow_back\n          ")])],1),t._v(" "),e("v-toolbar-title",{staticClass:"pl-2"},[t._v("\n          "+t._s(t.share.symbol.code)+"\n        ")]),t._v(" "),e("v-subheader",[e("span",{staticClass:"pr-3 text-caption"},[t._v(t._s(t.share.symbol.last_price))]),t._v(" "),e("v-chip",{staticClass:"font-weight-thin",attrs:{label:"",small:"",color:t.getTextColor(t.share.symbol.trend)}},[t._v("\n            "+t._s(t.share.symbol.rate_of_change)+"\n          ")])],1),t._v(" "),e("v-spacer"),t._v(" "),t.count()?t._e():e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[e("v-btn",{staticClass:"mx-1",attrs:{icon:"",small:""},on:{click:function(e){return t.deleteShare()}}},[e("v-icon",t._g({attrs:{color:"red darken-2"}},r),[t._v("\n                delete\n              ")])],1)]}}],null,!1,386397966)},[t._v(" "),e("span",[t._v(t._s(t.$t("Delete share from the portfolio")))])]),t._v(" "),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[t.count()&&5!=t.lastTransaction().type&&6!=t.lastTransaction().type?e("v-btn",{staticClass:"mx-1",attrs:{icon:"",small:""},on:{click:function(e){t.$refs.deleteTransactionModal.open(t.lastTransaction().id)}}},[e("v-icon",t._g({attrs:{small:"",color:"red darken-2"}},r),[t._v("\n                backspace\n              ")])],1):t._e()]}}],null,!1,3723909464)},[t._v(" "),e("span",[t._v(t._s(t.$t("Delete last item of transactions.")))])]),t._v(" "),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var r=n.on;return[e("v-btn",{staticClass:"mx-1",attrs:{icon:"",small:"",to:{name:"CreateTransaction",params:t.createTransactionParams}}},[e("v-icon",t._g({attrs:{color:"green darken-2"}},r),[t._v("\n                add\n              ")])],1)]}}],null,!1,4209247561)},[t._v(" "),e("span",[t._v(t._s(t.$t("Add Transaction")))])])],1),t._v(" "),e("v-divider"),t._v(" "),e("v-card-text",[e("transaction-item",{attrs:{items:t.share.transactions,"session-time":t.share.symbol.session_time}})],1),t._v(" "),e("v-card-actions",{staticStyle:{"background-color":"#323639"}},[e("v-flex",{staticClass:"px-2"},[e("v-list",{attrs:{dense:"",color:"#323639"}},[t._l(t.itemDetails,(function(n,r){return[e("item-detail",{key:n.key,attrs:{item:n,value:t.share[n.key],"base-link":"shares/".concat(t.share.id)}}),t._v(" "),r+1<t.itemDetails.length?e("v-divider",{key:r}):t._e()]}))],2)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports},2281:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});const r={name:"ItemDetail",props:{item:{type:Object,required:!0},value:{type:[String,Number],required:!1,default:0},baseLink:{type:String,required:!1,default:null}},computed:{itemLink:function(){return this.item.link?"/".concat(this.baseLink,"/").concat(this.item.link):void 0},disabled:function(){return void 0===this.itemLink}}};const o=(0,n(1900).Z)(r,(function(){var t=this,e=t._self._c;return e("v-list-item",{key:t.item.key,attrs:{dense:"",disabled:t.disabled,to:t.itemLink}},[e("v-list-item-content",[e("v-list-item-title",{domProps:{textContent:t._s(t.$t("".concat(t.item.key,".title")))}}),t._v(" "),e("v-list-item-subtitle",{domProps:{textContent:t._s(t.$t("".concat(t.item.key,".description")))}})],1),t._v(" "),e("v-list-item-action",{staticClass:"body-2 font-weight-medium",domProps:{textContent:t._s(t.value)}})],1)}),[],!1,null,null,null).exports},7494:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var r=n(3192);const o={name:"TransactionItem",props:{items:{type:Array,required:!0},sessionTime:{type:String,required:!0}},data:function(){return{transactionTypes:r.C_,pageCount:1}}};const i=(0,n(1900).Z)(o,(function(){var t=this,e=t._self._c;return e("v-data-table",{attrs:{"item-key":"id","disable-sort":"","mobile-breakpoint":0,items:t.items,"hide-default-footer":!t.items.length,headers:[{text:t.$t("Transaction Date"),value:"date_at",align:"start"},{text:t.$t("Transaction"),value:"type",align:"center"},{text:t.$t("Lots"),value:"lot",align:"center"},{text:t.$t("Transaction Price"),value:"price",align:"center"},{text:t.$t("Transaction Amount"),value:"amount",align:"center"},{text:t.$t("Commission Price"),value:"commission_price",align:"center"},{text:t.$t("Gain/Loss"),value:"gain_loss",align:"center"}],"no-data-text":t.$t("You have not any transaction."),page:t.pageCount},on:{"page-count":function(e){t.pageCount=e}},scopedSlots:t._u([{key:"item.type",fn:function(e){var n=e.item;return[t._v("\n    "+t._s(t.$t(t.transactionTypes[n.type]))+"\n  ")]}},{key:"item.lot",fn:function(e){var n=e.item;return[t._v("\n    "+t._s(t.$n(n.lot,"decimal"))+"\n  ")]}},{key:"item.gain_loss",fn:function(n){var r=n.item;return[e("div",{staticClass:"d-flex align-center justify-end",class:{"red--text":-1==r.sale_gain_trend,"green--text":1==r.sale_gain_trend}},[0==r.type||1==r.type||7==r.type?[t._v("\n        "+t._s(r.sale_gain)+"\n      ")]:t._e(),t._v(" "),2==r.type?[e("v-col",{staticClass:"pr-0 float-right",attrs:{cols:"auto"}},[t._v("\n          "+t._s(r.dividend_gain)+"\n        ")]),t._v(" "),e("v-col",{staticClass:"pr-0 float-right",attrs:{cols:"auto"}},[t._v("\n          ("+t._s(r.dividend)+")\n        ")])]:t._e(),t._v(" "),3==r.type?[e("v-col",{staticClass:"pr-0 float-right",attrs:{cols:"auto"}},[t._v("\n          "+t._s(r.bonus)+"\n        ")]),t._v(" "),e("v-col",{staticClass:"pr-0 float-right",attrs:{cols:"auto"}},[t._v("\n          ("+t._s(r.sale_gain)+")\n        ")])]:t._e(),t._v(" "),4==r.type?[e("v-col",{staticClass:"pr-0 float-right",attrs:{cols:"auto"}},[t._v("\n          "+t._s(r.rights)+"\n        ")]),t._v(" "),e("v-col",{staticClass:"pr-0 float-right",attrs:{cols:"auto"}},[t._v("\n          ("+t._s(r.sale_gain)+")\n        ")])]:t._e(),t._v(" "),5==r.type?[e("v-col",{staticClass:"pr-0 float-right",attrs:{cols:"auto"}},[t._v("\n          "+t._s(r.symbol_code)+" / "+t._s(t.$n(r.exchange_ratio,{style:"decimal",maximumFractionDigits:5}))+"\n        ")])]:t._e(),t._v(" "),6==r.type?[e("v-col",{staticClass:"pr-0 float-right",attrs:{cols:"auto"}},[t._v("\n          "+t._s(r.symbol_code)+" x "+t._s(t.$n(r.exchange_ratio,{style:"decimal",maximumFractionDigits:3}))+"\n        ")]),t._v(" "),e("v-col",{staticClass:"pr-0 float-right",attrs:{cols:"auto"}},[t._v("\n          ("+t._s(r.sale_gain)+")\n        ")])]:t._e()],2)]}},t.items.length?{key:"footer",fn:function(){return[e("div",{staticClass:"pl-4 py-5 d-flex align-center text-caption",style:t.items.length?"position: absolute;":"border-top: thin solid hsla(0,0%,100%,.12);"},[e("v-icon",{attrs:{"x-small":"",dense:""}},[t._v("\n        access_time\n      ")]),t._v(" "),e("span",{staticClass:"mx-1 text-caption"},[t._v("SG: "+t._s(t.sessionTime))])],1)]},proxy:!0}:null],null,!0)})}),[],!1,null,null,null).exports}}]);